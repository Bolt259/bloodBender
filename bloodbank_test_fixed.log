/home/bolt/projects/bb/tconnectsync-bb/tconnectsync/__init__.py:6: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
2025-10-13 18:56:40,877 - __main__ - INFO - Initialized TandemHistoricalSyncClient
2025-10-13 18:56:40,878 - __main__ - INFO - Output directory: bloodBath/bloodBank/raw
2025-10-13 18:56:40,878 - __main__ - INFO - Chunk size: 30 days
2025-10-13 18:56:40,878 - __main__ - INFO - Starting sync for 1 pump(s)
2025-10-13 18:56:40,878 - __main__ - INFO - Starting sync for pump 881235
2025-10-13 18:56:40,880 - __main__ - INFO - Generated 1 date chunks for pump 881235
2025-10-13 18:56:40,880 - __main__ - INFO - Processing chunk 1/1: 2024-01-01 to 2024-01-31
2025-10-13 18:56:40,881 - __main__ - INFO - Connecting to Tandem API (US region)...
2025-10-13 18:56:40,881 - __main__ - INFO - API connection established
2025-10-13 18:56:40,881 - tconnectsync.api.tandemsource - INFO - Logging in to TandemSourceApi (US region)...
2025-10-13 18:56:40,882 - tconnectsync.api.tandemsource - INFO - Cached credentials have expired (2025-10-14T01:49:14+00:00), skipping
2025-10-13 18:56:42,298 - tconnectsync.api.tandemsource - INFO - Decoded JWT: {"iss": "https://tdcservices.tandemdiabetes.com/accounts/api", "nbf": 1760407002, "iat": 1760407002, "exp": 1760408802, "aud": "0oa27ho9tpZE9Arjy4h7", "amr": ["pwd"], "at_hash": "TsNiR6i0M2kz0DdFmfJI_Q", "sid": "C31927AFF5B40D1C49E0B23444E73132", "sub": "user:5d15813d-2257-45c2-a1b9-2ceab10580c6", "auth_time": 1760407001, "idp": "local", "email": "sakul2003@gmail.com", "roles": ["role:personal_standard", "personal_standard"], "accountId": "5d15813d-2257-45c2-a1b9-2ceab10580c6", "userId": "2d4c7be1-72ef-49e3-a4ed-1fa9cfd14abe", "pumperId": "2d4c7be1-72ef-49e3-a4ed-1fa9cfd14abe", "countrySubdivision": "US", "preferredLanguage": "en-US", "family_name": "Shipley", "given_name": "Lukas", "preferred_username": "sakul2003@gmail.com", "name": "sakul2003@gmail.com", "email_verified": true}
2025-10-13 18:56:42,299 - tconnectsync.api.tandemsource - INFO - Saved cached credentials to /home/bolt/.config/tconnectsync/.creds_cache
2025-10-13 18:56:44,831 - __main__ - INFO - Fetching data for pump 881235: 2024-01-01 to 2024-01-31
2025-10-13 18:56:58,373 - tconnectsync.api.tandemsource - INFO - Read 2374736 bytes (est. 91336.0 events)
2025-10-13 18:57:02,669 - __main__ - INFO - Successfully fetched 8935 records for pump 881235
2025-10-13 18:57:02,784 - __main__ - INFO - ✅ Saved 8935 records to bloodBath/bloodBank/raw/pump_881235/2024-01-01_to_2024-01-31.csv with v2.0 header
2025-10-13 18:57:03,381 - __main__ - INFO - Sync completed for pump 881235
2025-10-13 18:57:03,381 - __main__ - INFO - Total records processed: 8935
2025-10-13 18:57:03,381 - __main__ - INFO - Merging pump CSVs into combined format...
2025-10-13 18:57:03,399 - __main__ - INFO - Loaded 8935 records from bloodBath/bloodBank/raw/data/lstm_ready/lstm_ready_881235.csv
2025-10-13 18:57:03,500 - __main__ - INFO - Merged 8935 records from 1 pumps to bloodBath/bloodBank/raw/data/lstm_ready/lstm_ready_combined.csv
2025-10-13 18:57:03,518 - __main__ - INFO - Combined data summary:
                            timestamp  ... bolus_dose
                                  min  ...        sum
pump_serial                            ...           
881235      2024-01-01 07:55:00+00:00  ...        0.0

[1 rows x 8 columns]

Sync completed: 1/1 pumps successful
  Pump 881235: ✅ SUCCESS
